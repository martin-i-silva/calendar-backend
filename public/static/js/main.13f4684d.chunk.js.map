{"version":3,"sources":["helpers/fetch.js","types/types.js","helpers/prepareEvents.js","actions/events.js","actions/auth.js","hooks/useForm.js","components/auth/LoginScreen.js","components/ui/Navbar.js","helpers/calendar-messages-es.js","components/calendar/CalendarEvent.js","actions/ui.js","components/calendar/CalendarModal.js","components/ui/AddNewFab.js","components/ui/DeleteEventFab.js","components/calendar/CalendarScreen.js","router/PrivateRoutes.js","router/PublicRoutes.js","router/AppRouter.js","reducers/authReducer.js","reducers/calendarReducer.js","reducers/uiReducer.js","reducers/rootReducers.js","store/store.js","CalendarApp.js","index.js"],"names":["baseUrl","process","fetchSinToken","endpoint","data","method","url","fetch","headers","body","JSON","stringify","fetchConToken","token","localStorage","getItem","types","prepareEvents","events","map","e","end","moment","toDate","start","eventAddNew","event","type","payload","clearActiveEvent","eventUpdated","eventDeleted","eventLoaded","checkingFinish","login","user","StartLogout","dispatch","clear","logout","useForm","initialState","useState","values","setValues","reset","handleInputChange","target","name","value","LoginScreen","useDispatch","lEmail","lPassword","formLoginValues","handleLoginInputChange","rName","rEmail","rPassword1","rPassword2","formRegisterValues","handleRegisterInputChange","className","onSubmit","email","password","preventDefault","a","resp","json","ok","setItem","Date","getTime","uid","Swal","fire","msg","placeholder","onChange","Navbar","useSelector","state","auth","onClick","messages","allDay","previous","next","today","month","week","day","agenda","date","time","noEventsInRange","showMore","total","CalendarEvent","title","startOpenModal","customStyles","content","top","left","right","bottom","marginRight","transform","Modal","setAppElement","now","minutes","seconds","add","nowEnd","clone","initialEvent","notes","CalendarModal","dateStart","setDateStart","dateEnd","setDateEnd","titleValid","setTitleValid","modalOpen","ui","activeEvent","calendar","formValues","setFormValues","useEffect","closeModal","isOpen","onRequestClose","style","closeTimeoutMS","overlayClassName","momentStart","momentEnd","isSameOrAfter","trim","length","id","console","log","getState","evento","_id","eventStartAddNew","minDate","autoComplete","rows","AddNewFab","DeleteEventFab","locale","localizer","momentLocalizer","CalendarScreen","lastView","setLastView","eventos","startAccessor","endAccessor","eventPropGetter","isSelected","backgroundColor","borderRadius","opacity","display","color","onDoubleClickEvent","onSelectEvent","onSelectSlot","selectable","onView","view","components","PrivateRoutes","isAuthenticated","Component","component","rest","location","pathname","search","props","to","PublicRoutes","AppRouter","checking","exact","path","rootReducer","combineReducers","action","filter","composeEnhancers","window","__REDUX_DEVTOOLS_EXTENSION_COMPOSE__","compose","store","createStore","applyMiddleware","thunk","CalendarApp","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.13f4684d.chunk.js","sourcesContent":["const baseUrl = process.env.REACT_APP_API_URL;\r\n\r\nexport const fetchSinToken = (endpoint, data, method = \"GET\") => {\r\n  const url = `${baseUrl}/${endpoint}`;\r\n  if (method === \"GET\") {\r\n    return fetch(url);\r\n  } else {\r\n    return fetch(url, {\r\n      method,\r\n      headers: {\r\n        \"Content-type\": \"application/json\",\r\n      },\r\n      body: JSON.stringify(data),\r\n    });\r\n  }\r\n};\r\n\r\nexport const fetchConToken = (endpoint, data, method = \"GET\") => {\r\n  const url = `${baseUrl}/${endpoint}`;\r\n  const token = localStorage.getItem(\"token\") || \"\";\r\n\r\n  if (method === \"GET\") {\r\n    return fetch(url, {\r\n      method,\r\n      headers: {\r\n        \"x-token\": token,\r\n      },\r\n    });\r\n  } else {\r\n    return fetch(url, {\r\n      method,\r\n      headers: {\r\n        \"Content-type\": \"application/json\",\r\n        \"x-token\": token,\r\n      },\r\n      body: JSON.stringify(data),\r\n    });\r\n  }\r\n};\r\n","export const types = {\r\n    uiOpenModal: '[ui] Open Modal',\r\n    uiCloseModal: '[ui] Close Modal',\r\n\r\n    eventSetActive: '[calendar] Set active',\r\n    eventStartAddNew: '[calendar] Start add new',\r\n    eventAddNew: '[calendar] Add new',\r\n    eventClearActiveEvent: '[calendar] Clear active event',\r\n    eventUpdated: '[calendar] Update event',\r\n    eventDeleted: '[calendar] Deleted event',\r\n    eventLoaded: '[calendar] Events loaded',\r\n    eventLogout: '[calendar] Events logout',\r\n\r\n    \r\n\r\n    authCheckingFinish: '[auth] Finish checking login state',\r\n    authStartLogin: '[auth] Start login',\r\n    authLogin: '[auth] Login',\r\n    authStartRegister: '[auth] Start Register',\r\n    authStartTokenRenew: '[auth] Start token renew',\r\n    authLogout: '[auth] Logout',\r\n\r\n\r\n\r\n}","import moment from \"moment\";\r\n\r\nexport const prepareEvents = (events = [])=>{\r\n\r\n    return events.map(\r\n        (e)=>({\r\n            ...e,\r\n            end: moment(e.end).toDate(),\r\n            start: moment(e.start).toDate(),\r\n        })\r\n    )\r\n}","import Swal from \"sweetalert2\";\r\nimport { fetchConToken } from \"../helpers/fetch\";\r\nimport { prepareEvents } from \"../helpers/prepareEvents\";\r\nimport { types } from \"../types/types\";\r\n\r\nexport const eventStartAddNew = (event)=>{\r\n    return async (dispatch, getState)=>{\r\n        const {uid, name} = getState().auth\r\n        try {\r\n            const resp = await fetchConToken('events', event, 'POST')\r\n            const body = await resp.json()\r\n            if(body.ok){\r\n                event.id = body.evento.id;\r\n                event.user = {\r\n                    _id: uid,\r\n                    name: name\r\n                }\r\n                dispatch(eventAddNew(event))\r\n            };\r\n\r\n        } catch (error) {\r\n            console.log(error);\r\n        }\r\n        \r\n    }\r\n}\r\n\r\nconst eventAddNew = (event)=>({\r\ntype: types.eventAddNew,\r\npayload: event\r\n})\r\n\r\nexport const eventSetActive = (event)=>({\r\n    type: types.eventSetActive,\r\n    payload: event\r\n    })\r\n\r\nexport const clearActiveEvent = ()=>({\r\n    type: types.eventClearActiveEvent\r\n})\r\n\r\nexport const eventLogout = ()=>({\r\n    type: types.eventLogout\r\n})\r\n\r\nexport const eventStartUpdated = (event)=>{\r\n    return async (dispatch)=>{\r\n        \r\n      try {\r\n          const resp = await fetchConToken(`events/${event.id}`, event, 'PUT')\r\n          const body = await resp.json()\r\n        if(body.ok){\r\n            dispatch(eventUpdated(event))\r\n        } else {\r\n            Swal.fire('Error', body.msg, 'error')\r\n        }\r\n\r\n      } catch (error) {\r\n          console.log(error);\r\n      }\r\n\r\n    }\r\n}\r\n\r\nconst eventUpdated = (event)=>({\r\n    type: types.eventUpdated,\r\n    payload: event\r\n    })\r\n\r\nexport const eventStartDeleted = ()=>{\r\n    return async(dispatch, getState)=>{\r\n        const {id} = getState().calendar.activeEvent\r\n\r\n        try {\r\n            const resp = await fetchConToken(`events/${id}`, {}, 'DELETE')\r\n            const body = await resp.json()\r\n          if(body.ok){\r\n              dispatch(eventDeleted())\r\n          } else {\r\n              Swal.fire('Error', body.msg, 'error')\r\n          }\r\n  \r\n        } catch (error) {\r\n            console.log(error);\r\n        }\r\n  \r\n    }\r\n}\r\nconst eventDeleted = ()=>({\r\n    type: types.eventDeleted\r\n})\r\n\r\nexport const eventStartLoading = ()=>{\r\n    return async(dispatch)=>{\r\n\r\ntry {\r\n    const resp = await fetchConToken('events')\r\n    const body = await resp.json()\r\n\r\n    const events = prepareEvents( body.eventos);\r\n    dispatch(eventLoaded(events))\r\n\r\n} catch (error) {\r\n    console.log(error);\r\n}\r\n\r\n    }\r\n}\r\n\r\nconst eventLoaded = (events)=>({\r\n    type: types.eventLoaded,\r\n    payload: events\r\n\r\n})","import Swal from \"sweetalert2\";\r\nimport { fetchConToken, fetchSinToken } from \"../helpers/fetch\";\r\nimport { types } from \"../types/types\";\r\nimport { eventLogout } from \"./events\";\r\n\r\nexport const startLogin = (email, password) => {\r\n  return async (dispatch) => {\r\n    const resp = await fetchSinToken(\"auth\", { email, password }, \"POST\");\r\n    const body = await resp.json();\r\n\r\n    if (body.ok) {\r\n      localStorage.setItem(\"token\", body.token);\r\n      localStorage.setItem(\"token-init-date\", new Date().getTime());\r\n\r\n      dispatch(\r\n        login({\r\n          uid: body.uid,\r\n          name: body.name,\r\n        })\r\n      );\r\n    } else {\r\n      Swal.fire(\"Error\", body.msg, \"error\");\r\n    }\r\n  };\r\n};\r\n\r\nexport const startRegister = (email, password, name) => {\r\n  return async (dispatch) => {\r\n    const resp = await fetchSinToken(\r\n      \"auth/new\",\r\n      { email, password, name },\r\n      \"POST\"\r\n    );\r\n    const body = await resp.json();\r\n\r\n    if (body.ok) {\r\n      localStorage.setItem(\"token\", body.token);\r\n      localStorage.setItem(\"token-init-date\", new Date().getTime());\r\n\r\n      dispatch(\r\n        login({\r\n          uid: body.uid,\r\n          name: body.name,\r\n        })\r\n      );\r\n    } else {\r\n      Swal.fire(\"Error\", body.msg, \"error\");\r\n    }\r\n  };\r\n};\r\n\r\nexport const startChecking = () => {\r\n  return async (dispatch) => {\r\n    const resp = await fetchConToken(\"auth/renew\");\r\n    const body = await resp.json();\r\n\r\n    if (body.ok) {\r\n      localStorage.setItem(\"token\", body.token);\r\n      localStorage.setItem(\"token-init-date\", new Date().getTime());\r\n\r\n      dispatch(\r\n        login({\r\n          uid: body.uid,\r\n          name: body.name,\r\n        })\r\n      );\r\n    } else {\r\n      dispatch(checkingFinish());\r\n    }\r\n  };\r\n};\r\nconst checkingFinish = () => ({ type: types.authCheckingFinish });\r\n\r\nconst login = (user) => ({\r\n  type: types.authLogin,\r\n  payload: user,\r\n});\r\n\r\nexport const StartLogout = () => {\r\n  return (dispatch) => {\r\n    localStorage.clear();\r\n    dispatch(eventLogout());\r\n    dispatch(logout());\r\n  };\r\n};\r\n\r\nconst logout = () => ({ type: types.authLogout });\r\n","import { useState } from 'react';\r\n\r\n\r\nexport const useForm = ( initialState = {} ) => {\r\n    \r\n    const [values, setValues] = useState(initialState);\r\n\r\n    const reset = () => {\r\n        setValues( initialState );\r\n    }\r\n\r\n\r\n    const handleInputChange = ({ target }) => {\r\n\r\n        setValues({\r\n            ...values,\r\n            [ target.name ]: target.value\r\n        });\r\n\r\n    }\r\n\r\n    return [ values, handleInputChange, reset ];\r\n\r\n}","import React from \"react\";\r\nimport { useDispatch } from \"react-redux\";\r\nimport { useForm } from \"../../hooks/useForm\";\r\nimport {startLogin, startRegister} from '../../actions/auth'\r\nimport \"./login.css\";\r\nimport Swal from \"sweetalert2\";\r\n\r\nexport const LoginScreen = () => {\r\nconst dispatch = useDispatch();\r\n\r\nconst [ formLoginValues, handleLoginInputChange ] = useForm( {\r\n  lEmail: 'martin.i.silva@gmail.com',\r\n  lPassword: '123456'\r\n} );\r\n\r\nconst {lEmail, lPassword} = formLoginValues\r\n\r\nconst [ formRegisterValues, handleRegisterInputChange ] = useForm( {\r\n  rName: 'Simon',\r\n  rEmail: 'simon.silva@gmail.com',\r\n  rPassword1: '123456',\r\n  rPassword2: '123456',\r\n\r\n} );\r\n\r\nconst {rName, rEmail, rPassword1, rPassword2} = formRegisterValues\r\n\r\n\r\n  const handleLogin = (e)=>{\r\n    e.preventDefault();\r\n    dispatch(startLogin(lEmail, lPassword))\r\n  }\r\n\r\n  const handleRegister = (e)=>{\r\n    e.preventDefault();\r\n\r\n    if(rPassword1!==rPassword2){\r\n      return Swal.fire('Error', `Las contraseñas deben coincidir`, 'error')\r\n    }\r\n    dispatch(startRegister(rEmail, rPassword1, rName))\r\n  }\r\n  return (\r\n    <div className=\"container login-container\">\r\n      <div className=\"row\">\r\n        <div className=\"col-md-6 login-form-1\">\r\n          <h3>Ingreso</h3>\r\n          <form onSubmit={handleLogin}>\r\n            <div className=\"form-group\">\r\n              <input\r\n                type=\"text\"\r\n                className=\"form-control\"\r\n                placeholder=\"Correo\"\r\n                name=\"lEmail\"\r\n                value={lEmail}\r\n                onChange={handleLoginInputChange}\r\n              />\r\n            </div>\r\n            <div className=\"form-group\">\r\n              <input\r\n                type=\"password\"\r\n                className=\"form-control\"\r\n                placeholder=\"Contraseña\"\r\n                name=\"lPassword\"\r\n                value={lPassword}\r\n                onChange={handleLoginInputChange}\r\n\r\n              />\r\n            </div>\r\n            <div className=\"form-group\">\r\n              <input type=\"submit\" className=\"btnSubmit\" value=\"Login\" />\r\n            </div>\r\n          </form>\r\n        </div>\r\n\r\n        <div className=\"col-md-6 login-form-2\">\r\n          <h3>Registro</h3>\r\n          <form onSubmit={handleRegister}>\r\n            <div className=\"form-group\">\r\n              <input\r\n                type=\"text\"\r\n                className=\"form-control\"\r\n                placeholder=\"Nombre\"\r\n                name=\"rName\"\r\n                value={rName}\r\n                onChange={handleRegisterInputChange}\r\n              />\r\n            </div>\r\n            <div className=\"form-group\">\r\n              <input\r\n                type=\"email\"\r\n                className=\"form-control\"\r\n                placeholder=\"Correo\"\r\n                name=\"rEmail\"\r\n                value={rEmail}\r\n                onChange={handleRegisterInputChange}\r\n              />\r\n            </div>\r\n            <div className=\"form-group\">\r\n              <input\r\n                type=\"password\"\r\n                className=\"form-control\"\r\n                placeholder=\"Contraseña\"\r\n                name=\"rPassword1\"\r\n                value={rPassword1}\r\n                onChange={handleRegisterInputChange}\r\n              />\r\n            </div>\r\n\r\n            <div className=\"form-group\">\r\n              <input\r\n                type=\"password\"\r\n                className=\"form-control\"\r\n                placeholder=\"Repita la contraseña\"\r\n                name=\"rPassword2\"\r\n                value={rPassword2}\r\n                onChange={handleRegisterInputChange}\r\n              />\r\n            </div>\r\n\r\n            <div className=\"form-group\">\r\n              <input type=\"submit\" className=\"btnSubmit\" value=\"Crear cuenta\" />\r\n            </div>\r\n          </form>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n","import React from 'react'\r\nimport { useDispatch, useSelector } from 'react-redux';\r\nimport { StartLogout } from '../../actions/auth';\r\n\r\nexport const Navbar = () => {\r\n    const {name} = useSelector( state => state.auth );\r\n    const dispatch = useDispatch();\r\n    \r\n    const handleLogout = ()=>{\r\n        dispatch(StartLogout())\r\n    }\r\n    return (\r\n        <div className=\"navbar navbar-dark bg-dark mb-4\">\r\n            <span className=\"navbar-brand\">\r\n                {name}\r\n            </span>\r\n            <button className=\"btn btn-outline-danger\" onClick={handleLogout}>\r\n                <i className=\"fas fa-sign-out-alt\"></i>\r\n                <span> Salir</span>\r\n            </button>\r\n            \r\n        </div>\r\n    )\r\n}\r\n","export const messages = {\n    allDay: 'Todo el día',\n    previous: '<',\n    next: '>',\n    today: 'Hoy',\n    month: 'Mes',\n    week: 'Semana',\n    day: 'Día',\n    agenda: 'Agenda',\n    date: 'Fecha',\n    time: 'Hora',\n    event: 'Evento',\n    noEventsInRange: 'No hay eventos en este rango',\n    showMore: total => `+ Ver más (${total})`\n};","import React from \"react\";\r\n\r\nexport const CalendarEvent = ({ event }) => {\r\n  //console.log(event);\r\n  return (\r\n    <div>\r\n      <strong>{event.title} </strong>\r\n      <span>- {event.user.name}</span>\r\n    </div>\r\n  );\r\n};\r\n","import { types } from \"../types/types\";\r\n\r\n\r\n\r\nexport const startOpenModal = ()=>{\r\n    return {\r\n        type: types.uiOpenModal\r\n      };\r\n}\r\nexport const startCloseModal = ()=>{\r\n    return {\r\n        type: types.uiCloseModal\r\n      };\r\n}","import React, { useEffect, useState } from \"react\";\r\nimport { useDispatch, useSelector } from \"react-redux\";\r\nimport Modal from \"react-modal\";\r\nimport moment from \"moment\";\r\nimport DateTimePicker from \"react-datetime-picker\";\r\nimport Swal from \"sweetalert2\";\r\nimport { startCloseModal } from \"../../actions/ui\";\r\nimport { clearActiveEvent, eventStartAddNew, eventStartUpdated } from \"../../actions/events\";\r\n\r\nconst customStyles = {\r\n  content: {\r\n    top: \"50%\",\r\n    left: \"50%\",\r\n    right: \"auto\",\r\n    bottom: \"auto\",\r\n    marginRight: \"-50%\",\r\n    transform: \"translate(-50%, -50%)\",\r\n  },\r\n};\r\n\r\nModal.setAppElement(\"#root\");\r\n\r\nconst now = moment().minutes(0).seconds(0).add(1, \"hours\");\r\nconst nowEnd = now.clone().add(1, \"hours\");\r\nconst initialEvent = {    \r\ntitle: \"\",\r\nnotes: \"\",\r\nstart: now.toDate(),\r\nend: nowEnd.toDate(),\r\n}\r\n\r\nexport const CalendarModal = () => {\r\n  const [dateStart, setDateStart] = useState(now.toDate());\r\n  const [dateEnd, setDateEnd] = useState(nowEnd.toDate());\r\n  const [titleValid, setTitleValid] = useState(true);\r\n  const {modalOpen} = useSelector( state => state.ui );\r\n  const {activeEvent} = useSelector( state => state.calendar );\r\n  const dispatch = useDispatch();\r\n  \r\n  const [formValues, setFormValues] = useState(initialEvent);\r\n\r\n  const { title, notes, start, end } = formValues;\r\n\r\nuseEffect(() => {\r\n  if(activeEvent){\r\n    setFormValues(activeEvent)\r\n  } else {\r\n    setFormValues(initialEvent)\r\n  }\r\n}, [activeEvent, setFormValues])\r\n\r\n  const handleInputChange = ({ target }) => {\r\n    setFormValues({\r\n      ...formValues,\r\n      [target.name]: target.value,\r\n    });\r\n  };\r\n  const closeModal = () => {\r\n    dispatch(startCloseModal())\r\n    dispatch(clearActiveEvent())\r\n    setFormValues(initialEvent)\r\n  };\r\n  const handleStartDateChange = (e) => {\r\n    setDateStart(e);\r\n    setFormValues({\r\n      ...formValues,\r\n      start: e,\r\n    });\r\n  };\r\n\r\n  const handleEndtDateChange = (e) => {\r\n    setDateEnd(e);\r\n    setFormValues({\r\n      ...formValues,\r\n      end: e,\r\n    });\r\n  };\r\n\r\n  const handleSubmitForm = (e) => {\r\n    e.preventDefault();\r\n    const momentStart = moment(start);\r\n    const momentEnd = moment(end);\r\n\r\n    if (momentStart.isSameOrAfter(momentEnd)) {\r\n      //console.log('Fecha 2 debe de ser mayor');\r\n      Swal.fire(\r\n        \"Error\",\r\n        \"La fecha de finalización debe ser mayor a la de inicio\",\r\n        \"error\"\r\n      );\r\n      return;\r\n    }\r\n    if(title.trim().length <= 2){\r\n        setTitleValid(false)\r\n        Swal.fire(\r\n            \"Error\",\r\n            \"El titulo debe contener mas de dos digitos\",\r\n            \"error\"\r\n          );\r\n          return;\r\n    } \r\n    \r\n    //TO-DO: grabar en base de datos\r\n    if (activeEvent){\r\n      dispatch(eventStartUpdated(formValues))\r\n    } else {\r\n      dispatch(eventStartAddNew(formValues))\r\n    }\r\n\r\n    setTitleValid(true)\r\n    closeModal()\r\n  };\r\n  return (\r\n    <Modal\r\n      isOpen={modalOpen}\r\n      // onAfterOpen={afterOpenModal}\r\n      onRequestClose={closeModal}\r\n      style={customStyles}\r\n      closeTimeoutMS={200}\r\n      className=\"modal\"\r\n      overlayClassName=\"modal-fondo\"\r\n    >\r\n      <h1> {(activeEvent)? 'Editar evento' : 'Nuevo evento' } </h1>\r\n      <hr />\r\n      <form onSubmit={handleSubmitForm} className=\"container\">\r\n        <div className=\"form-group\">\r\n          <label>Fecha y hora inicio</label>\r\n          <DateTimePicker\r\n            onChange={handleStartDateChange}\r\n            value={dateStart}\r\n            className=\"form-control\"\r\n          />\r\n        </div>\r\n\r\n        <div className=\"form-group\">\r\n          <label>Fecha y hora fin</label>\r\n          <DateTimePicker\r\n            onChange={handleEndtDateChange}\r\n            value={dateEnd}\r\n            minDate={dateStart}\r\n            className=\"form-control\"\r\n          />\r\n        </div>\r\n\r\n        <hr />\r\n        <div className=\"form-group\">\r\n          <label>Titulo y notas</label>\r\n          <input\r\n            type=\"text\"\r\n            className={`form-control ${!titleValid && 'is-invalid' }`} \r\n            placeholder=\"Título del evento\"\r\n            name=\"title\"\r\n            autoComplete=\"off\"\r\n            value={title}\r\n            onChange={handleInputChange}\r\n          />\r\n          <small id=\"emailHelp\" className=\"form-text text-muted\">\r\n            Una descripción corta\r\n          </small>\r\n        </div>\r\n\r\n        <div className=\"form-group\">\r\n          <textarea\r\n            type=\"text\"\r\n            className=\"form-control\"\r\n            placeholder=\"Notas\"\r\n            rows=\"5\"\r\n            name=\"notes\"\r\n            value={notes}\r\n            onChange={handleInputChange}\r\n          ></textarea>\r\n          <small id=\"emailHelp\" className=\"form-text text-muted\">\r\n            Información adicional\r\n          </small>\r\n        </div>\r\n\r\n        <button type=\"submit\" className=\"btn btn-outline-primary btn-block\">\r\n          <i className=\"far fa-save\"></i>\r\n          <span> Guardar</span>\r\n        </button>\r\n      </form>\r\n    </Modal>\r\n  );\r\n};\r\n","import React from 'react'\r\nimport { useDispatch } from 'react-redux'\r\nimport { startOpenModal } from '../../actions/ui';\r\n\r\nexport const AddNewFab = () => {\r\n    const dispatch = useDispatch();\r\n    return (\r\n        <button className=\"btn btn-primary fab\" onClick={()=>dispatch(startOpenModal())}>\r\n            <i className=\"fas fa-plus\"></i>\r\n        </button>\r\n    )\r\n}\r\n","import React from 'react'\r\nimport { useDispatch } from 'react-redux'\r\nimport {eventStartDeleted } from '../../actions/events';\r\n\r\nexport const DeleteEventFab = () => {\r\n    const dispatch = useDispatch();\r\n\r\n\r\n    const handleDelete = ()=>{\r\n        dispatch(eventStartDeleted())\r\n    }\r\n\r\n    return (\r\n        <button className=\"btn btn-danger fab-danger\" onClick={handleDelete}>\r\n            <i className=\"fas fa-trash\"></i>\r\n            <span> Borrar evento</span>\r\n            \r\n        </button>\r\n    )\r\n}\r\n","import React, { useEffect, useState } from \"react\";\r\nimport { Calendar, momentLocalizer } from \"react-big-calendar\";\r\nimport moment from \"moment\";\r\n\r\nimport { Navbar } from \"../ui/Navbar\";\r\nimport { messages } from \"../../helpers/calendar-messages-es\";\r\nimport { CalendarEvent } from \"./CalendarEvent\";\r\n\r\nimport \"moment/locale/es\";\r\nimport \"react-big-calendar/lib/css/react-big-calendar.css\";\r\nimport { CalendarModal } from \"./CalendarModal\";\r\nimport { startOpenModal } from \"../../actions/ui\";\r\nimport { useDispatch, useSelector } from \"react-redux\";\r\nimport { clearActiveEvent, eventSetActive, eventStartLoading } from \"../../actions/events\";\r\nimport { AddNewFab } from \"../ui/AddNewFab\";\r\nimport { DeleteEventFab } from \"../ui/DeleteEventFab\";\r\n\r\nmoment.locale(\"es\");\r\nconst localizer = momentLocalizer(moment); // or globalizeLocalizer\r\n\r\n\r\n\r\nexport const CalendarScreen = () => {\r\n  const dispatch = useDispatch();\r\n  const {events, activeEvent} = useSelector( state => state.calendar );\r\n  const {uid} = useSelector( state => state.auth );\r\n  const [lastView, setLastView] = useState(\r\n    localStorage.getItem(\"lastView\") || \"month\"\r\n  );\r\n\r\n  useEffect(() => {\r\n     dispatch(eventStartLoading())\r\n  }, [dispatch])\r\n\r\n  const onDoubleClick = (e) => {\r\n    //console.log(e);\r\n    dispatch(startOpenModal());\r\n    \r\n  };\r\n  const onSelectEvent = (e) => {\r\n    //console.log(e);\r\n    dispatch(eventSetActive(e));\r\n  };\r\n\r\n  const onViewChange = (e) => {\r\n    setLastView(e);\r\n    localStorage.setItem(\"lastView\", e);\r\n  };\r\n  const onSelectedSlot = (e)=>{\r\n    dispatch(clearActiveEvent())\r\n  }\r\n\r\n  const eventStyleGetter = (event, start, end, isSelected) => {\r\n    const style = {\r\n      backgroundColor: (uid === event.user._id)? \"#367cf7\": \"#465660\",\r\n      borderRadius: \"0px\",\r\n      opacity: 0.8,\r\n      display: \"block\",\r\n      color: \"white\",\r\n    };\r\n  \r\n    return {\r\n      style,\r\n    };\r\n  };\r\n  return (\r\n    <div className=\"calendar-screen\">\r\n      <Navbar />\r\n      <Calendar\r\n        localizer={localizer}\r\n        events={events}\r\n        startAccessor=\"start\"\r\n        endAccessor=\"end\"\r\n        messages={messages}\r\n        eventPropGetter={eventStyleGetter}\r\n        onDoubleClickEvent={onDoubleClick}\r\n        onSelectEvent={onSelectEvent}\r\n        onSelectSlot={onSelectedSlot}\r\n        selectable={true}\r\n        onView={onViewChange}\r\n        view={lastView}\r\n        components={{\r\n          event: CalendarEvent,\r\n        }}\r\n      />\r\n      <AddNewFab />\r\n      \r\n        {(activeEvent) && <DeleteEventFab/>} \r\n        \r\n      \r\n\r\n      <CalendarModal />\r\n    </div>\r\n  );\r\n};\r\n","import React from 'react'\r\nimport PropTypes from 'prop-types'\r\nimport { Redirect, Route } from 'react-router-dom'\r\n\r\nexport const PrivateRoutes = ({\r\n    isAuthenticated,\r\n    component: Component,\r\n    ...rest\r\n}) => {\r\nlocalStorage.setItem('lastPath', rest.location.pathname+rest.location.search)\r\n\r\n    return (\r\n        <Route {...rest}\r\n            component={(props)=>(\r\n                (isAuthenticated)\r\n                ? <Component {...props}/>\r\n                : <Redirect to='/login'/>\r\n\r\n            )}\r\n        />\r\n    )\r\n}\r\n\r\nPrivateRoutes.propTypes = {\r\n    isAuthenticated: PropTypes.bool.isRequired,\r\n    component: PropTypes.func.isRequired\r\n}","import React from 'react'\r\nimport { Redirect, Route } from 'react-router-dom'\r\nimport PropTypes from 'prop-types'\r\n\r\nexport const PublicRoutes = ({\r\n    isAuthenticated,\r\n    component: Component,\r\n    ...rest\r\n}) => {\r\n    return (\r\n        <Route {...rest}\r\n        component={(props)=>(\r\n            (!isAuthenticated)\r\n            ? <Component {...props}/>\r\n            : <Redirect to='/'/>\r\n\r\n        )}\r\n    />\r\n    )\r\n}\r\n\r\nPublicRoutes.propTypes = {\r\n    isAuthenticated: PropTypes.bool.isRequired,\r\n    component: PropTypes.func.isRequired\r\n}","import React, { useEffect } from \"react\";\r\nimport { useDispatch, useSelector } from \"react-redux\";\r\nimport {\r\n  BrowserRouter as Router,\r\n  Switch,\r\n  Redirect,\r\n} from \"react-router-dom\";\r\nimport { startChecking } from \"../actions/auth\";\r\nimport { LoginScreen } from \"../components/auth/LoginScreen\";\r\nimport { CalendarScreen } from \"../components/calendar/CalendarScreen\";\r\nimport { PrivateRoutes } from \"./PrivateRoutes\";\r\nimport { PublicRoutes } from \"./PublicRoutes\";\r\n\r\nexport const AppRouter = () => {\r\n  const dispatch = useDispatch();\r\n  const { checking, uid } = useSelector((state) => state.auth);\r\n\r\n  useEffect(() => {\r\n    dispatch(startChecking());\r\n  }, [dispatch]);\r\n\r\n  if (checking) {\r\n    return <h5>Espere...</h5>;\r\n  }\r\n\r\n  return (\r\n    <Router>\r\n      <div>\r\n        <Switch>\r\n\r\n          <PublicRoutes \r\n          exact \r\n          path=\"/login\" \r\n          component={LoginScreen} \r\n          isAuthenticated={!!uid}\r\n          />\r\n\r\n          <PrivateRoutes \r\n          exact \r\n          path=\"/\" \r\n          component={CalendarScreen} \r\n          isAuthenticated={!!uid}\r\n\r\n          />\r\n\r\n          <Redirect to=\"/\" />\r\n\r\n        </Switch>\r\n      </div>\r\n    </Router>\r\n  );\r\n};\r\n","import { types } from \"../types/types\";\r\n\r\nconst initialState = {\r\n  checking: true,\r\n  // uid: null,\r\n  // name: null\r\n};\r\n\r\nexport const authReducer = (state = initialState, action) => {\r\n  switch (action.type) {\r\n    case types.authLogin:\r\n      return {\r\n        ...state,\r\n        ...action.payload,\r\n        checking: false,\r\n      };\r\n    case types.authCheckingFinish:\r\n      return {\r\n        ...state,\r\n        checking: false,\r\n      };\r\n    case types.authLogout:\r\n    return {\r\n      checking: false,\r\n    }\r\n    default:\r\n      return state;\r\n  }\r\n};\r\n","import { types } from \"../types/types\";\r\n\r\n\r\n// {\r\n//   id: new Date().getTime(),\r\n//   title: \"Cumpleaños Ivi\",\r\n//   start: moment().toDate(),\r\n//   end: moment().add(2, \"hours\").toDate(),\r\n//   bgcolor: \"#fafafa\",\r\n//   notes: \"Comprar el pastel\",\r\n//   user: {\r\n//     _id: \"1234\",\r\n//     name: \"Martin\",\r\n//   },\r\n// },\r\n\r\nconst initialState = {\r\n  events: [ ],\r\n  activeEvent: null,\r\n};\r\n\r\nexport const calendarReducer = (state = initialState, action) => {\r\n  switch (action.type) {\r\n    case types.eventSetActive:\r\n      return {\r\n        ...state,\r\n        activeEvent: action.payload,\r\n      };\r\n    case types.eventAddNew:\r\n      return {\r\n        ...state,\r\n        events: [...state.events, action.payload],\r\n      };\r\n    case types.eventClearActiveEvent:\r\n      return {\r\n        ...state,\r\n        activeEvent: null,\r\n      };\r\n    case types.eventUpdated:\r\n        return {\r\n            ...state,\r\n            events: state.events.map(\r\n                e=>(e.id === action.payload.id) ? action.payload : e\r\n            )\r\n        }\r\n        case types.eventDeleted:\r\n          return {\r\n              ...state,\r\n              events: state.events.filter(\r\n                  e=>(e.id !== state.activeEvent.id)\r\n              ),\r\n              activeEvent: null\r\n          }\r\n          case types.eventLoaded:\r\n            return {\r\n              ...state,\r\n              events: [...action.payload]\r\n            }\r\n          case types.eventLogout: \r\n          return {\r\n            ...initialState\r\n          }\r\n          \r\n    default:\r\n      return state;\r\n  }\r\n};\r\n","import { types } from \"../types/types\";\r\n\r\nconst initialState = {\r\n    modalOpen: false\r\n}\r\n\r\n\r\nexport const uiReducer = (state=initialState, action)=>{\r\nswitch (action.type) {\r\n    case types.uiOpenModal:\r\n        \r\n        return {\r\n            ...state,\r\n            modalOpen:true\r\n        };\r\n        case types.uiCloseModal:\r\n        \r\n            return {\r\n                ...state,\r\n            modalOpen:false\r\n            };\r\n    default:\r\n        return state;\r\n}\r\n}","import { combineReducers } from 'redux'\r\nimport { authReducer } from './authReducer'\r\nimport { calendarReducer } from './calendarReducer'\r\nimport { uiReducer } from './uiReducer'\r\n\r\n\r\nexport const rootReducer = combineReducers({\r\n    ui: uiReducer,\r\n    calendar: calendarReducer,\r\n    auth: authReducer\r\n\r\n})","import { createStore, compose, applyMiddleware } from \"redux\";\r\nimport thunk from \"redux-thunk\";\r\nimport { rootReducer } from \"../reducers/rootReducers\";\r\n\r\n//composeEnhancers lo copiamos de la documentacion de las herramientas de redux_devtools\r\nconst composeEnhancers =\r\n  (typeof window !== \"undefined\" &&\r\n    window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__) ||\r\n  compose;\r\n\r\nexport const store = createStore(\r\n  rootReducer,\r\n  composeEnhancers(applyMiddleware(thunk))\r\n);\r\n","import React from \"react\";\r\nimport { Provider } from 'react-redux'\r\n\r\nimport { AppRouter } from \"./router/AppRouter\";\r\nimport { store } from \"./store/store\";\r\n\r\nexport const CalendarApp = () => {\r\n  return (\r\n      <Provider store={store}>\r\n        <AppRouter />\r\n      </Provider>\r\n\r\n  );\r\n};\r\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport { CalendarApp } from './CalendarApp';\nimport './styles.css'\n\n\nReactDOM.render(\n    <CalendarApp />,\n  document.getElementById('root')\n);\n\n \n"],"sourceRoot":""}